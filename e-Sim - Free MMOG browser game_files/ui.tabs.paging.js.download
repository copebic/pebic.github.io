(function(e){var t={refresh:e.ui.tabs.prototype.refresh,option:e.ui.tabs.prototype.option};if(e.uiBackCompat!==false){t=e.extend(t,{add:e.ui.tabs.prototype.add,remove:e.ui.tabs.prototype.remove})}e.extend(e.ui.tabs.prototype,{paging:function(n){function m(){E();d=e(window).height();v=e(window).width();f=0,o=0,c=0,u=0,h=new Array,l=new Array,selectedTabWidths=new Array;a=i.element.width();var t=0;i.tabs.each(function(n){if(n==i.options.active){selectedTabWidths[n]=e(this).outerWidth(true);l[n]=i.tabs.eq(n).removeClass("ui-tabs-active").outerWidth(true);i.tabs.eq(n).addClass("ui-tabs-active");t=Math.min(t,Math.abs(selectedTabWidths[n]-l[n]));f+=l[n]}else{l[n]=e(this).outerWidth(true);selectedTabWidths[n]=i.tabs.eq(n).addClass("ui-tabs-active").outerWidth(true);i.tabs.eq(n).removeClass("ui-tabs-active");t=Math.max(t,Math.abs(selectedTabWidths[n]-l[n]));f+=l[n]}});f+=t+(e.browser.msie?4:0)+9;if(f>a){li=e("<li></li>").addClass("ui-state-default ui-corner-top ui-tabs-paging-next").append(e('<a href="#"></a>').click(function(){g("next");return false}).html(r.nextButton));i.tablist.append(li);u=li.outerWidth(true);li=e("<li></li>").addClass("ui-state-default ui-corner-top ui-tabs-paging-prev").append(e('<a href="#"></a>').click(function(){g("prev");return false}).html(r.prevButton));i.tablist.prepend(li);u+=li.outerWidth(true);u+=19;var n=0,p=0,m=0;for(var b=0;b<l.length;b++){if(p==0||selectedTabWidths[b]-l[b]>m)m=selectedTabWidths[b]-l[b];if(h[n]==null){h[n]={start:b}}else if(b>0&&b%r.tabsPerPage==0||l[b]+p+u+12>a){if(p+m>c)c=p+m;n++;h[n]={start:b};p=0}h[n].end=b+1;p+=l[b];if(b==i.options.active)o=n}if(p+m>c)c=p+m;i.tabs.hide().slice(h[o].start,h[o].end).show();if(o==h.length-1&&!r.cycle)y("next");if(o==0&&!r.cycle)y("prev");buttonPadding=a-c-u;if(buttonPadding>0)e(".ui-tabs-paging-next",i.element).css({paddingRight:buttonPadding+"px"})}else{E()}e(window).bind("resize",w);s=true}function g(e){o=o+(e=="prev"?-1:1);if(e=="prev"&&o<0&&r.cycle||e=="next"&&o>=h.length&&!r.cycle)o=h.length-1;else if(e=="prev"&&o<0||e=="next"&&o>=h.length&&r.cycle)o=0;var t=h[o].start;var n=h[o].end;i.tabs.hide().slice(t,n).show();if(e=="prev"){b("next");if(r.follow&&(i.options.active<t||i.options.active>n-1))i.option("active",n-1);if(!r.cycle&&t<=0)y("prev")}else{b("prev");if(r.follow&&(i.options.active<t||i.options.active>n-1))i.option("active",t);if(!r.cycle&&n>=i.tabs.length)y("next")}}function y(t){e(".ui-tabs-paging-"+t,i.element).addClass("ui-tabs-paging-disabled")}function b(t){e(".ui-tabs-paging-"+t,i.element).removeClass("ui-tabs-paging-disabled")}function w(){if(p)clearTimeout(p);if(d!=e(window).height()||v!=e(window).width()){p=setTimeout(m,100)}}function E(){e(".ui-tabs-paging-next",i.element).remove();e(".ui-tabs-paging-prev",i.element).remove();i.tabs.show();s=false;e(window).unbind("resize",w)}var r={tabsPerPage:0,nextButton:"&#187;",prevButton:"&#171;",follow:false,cycle:false,activeOnAdd:false,followOnActive:false};r=e.extend(r,n);var i=this,s=false,o,u,a,f,l,c,h,p=null,d,v;i.option=function(e,n){var i=t.option.apply(this,[e,n]);if(e=="active"){if(!s||!r.followOnActive)return i;for(var u in h){var a=h[u].start;var f=h[u].end;if(n>=a&&n<f){if(u!=o){this.tabs.hide().slice(a,f).show();o=parseInt(u);if(o==0){b("next");if(!r.cycle&&a<=0)y("prev")}else{b("prev");if(!r.cycle&&f>=this.tabs.length)y("next")}}break}}}return i};i.refresh=function(){if(s){E();t.refresh.apply(this);m()}t.refresh.apply(this)};if(e.uiBackCompat!==false){i.add=function(e,n,i){if(s){E();t.add.apply(this,[e,n,i]);if(r.activeOnAdd){if(i==undefined)i=this.tabs.length-1;this.option("active",i)}m();return this}return t.add.apply(this,[e,n,i])};i.remove=function(e){if(s){E();t.remove.apply(this,[e]);m();return this}return t.remove.apply(this,[e])}}e.extend(e.ui.tabs.prototype,{pagingDestroy:function(){E();return this},pagingResize:function(){m();return this}});m()}})})(jQuery)